<!doctype html><html><head></head><body><!doctype html>
<html>

<head></head>

<body>
	<!DOCTYPE html>
	<html>

	<body>
		<canvas id="gameBoard">
		</canvas>
	</body>

	</html>
	<script type="module">
		"use strict";
	import { mat4, glMatrix, vec3, vec4, mat3 } from "https://raw.githubusercontent.com/toji/gl-matrix/refs/heads/master/dist/gl-matrix.js";
	const loadingScreenVertexShader = `#version 300 es
	precision mediump float;
	in vec2 vertex;
	out vec2 f_vertex;
	void main(){
	gl_Position = vec4(vertex, 0.0, 1.0);
	f_vertex = vertex;
	}
	`
	const loadingScreenFragmentShader = `#version 300 es
	precision mediump float;
	in vec2 f_vertex;
	uniform float percentage;
	uniform vec2 viewport;
	uniform sampler2D tex;
	out vec4 outColor;
	
	void main(){
	vec2 coord = gl_FragCoord.xy / viewport.xy;
	coord = coord * 2.0 - 1.0;
	float percent_space = percentage * 1.5 - 0.75;
	
	if((coord.x>-0.75) && (coord.y>-0.75) && (coord.x<0.75) && (coord.y<-0.6)){ outColor=vec4(0.0, 1.0, 1.0, 1.0);
		if(coord.x<percent_space && coord.y<0.0 - 0.6 && coord.y> -0.75 && coord.x>-0.75){
		outColor = vec4(1.0, 0.0, 1.0, 1.0);
		}
		}else{
		vec2 texcoords = (coord + 1.0) / 2.0;
		outColor = texture(tex, vec2(texcoords.x, 0.0-texcoords.y));
		}
	
	
		}
		`
	
		const vertexShader = `#version 300 es
		precision mediump float;
		in vec3 a_Position;
	
		`;
		const fragmentShader = `
		`;
		var percentage = 0.0;
		var assets = [{
		renderer: { length: 5, offset: 2 }
		}, { attribName: ["vertex"], vertexShader: loadingScreenVertexShader, vertexSize: 2, fragmentShader:
		loadingScreenFragmentShader, vertexData: [-1.0, 1.0, 1.0, 1.0, 1.0, -1.0, -1.0, -1.0], indexData: [0, 2, 1, 0, 3,
		2], vertexNormal: false, vertexStride: 0, vertexOffset: 0, uniformNames: [`percentage`, "viewport"],
		numUniformLocations: 2 }, { data: vertexShader, type: "vertexShader" }, { data: fragmentShader, type:
		"fragmentShader" }, { data: ["a_Position"], type: "attribLocations" }, { data: [], type: "uniformLocations" }, {
		data: [] }];
		var assetList = [{data:data:image/jpeg;base64,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, type:"image"}];
		var files = [];
		var loadingScreen = {
		attribName: ["vertex"], vertexShader: loadingScreenVertexShader, vertexSize: 2, fragmentShader:
		loadingScreenFragmentShader, vertexData: [-1.0, 1.0, 1.0, 1.0, 1.0, -1.0, -1.0, -1.0], indexData: [0, 2, 1, 0, 3,
		2],
		vertexNormal: false, vertexStride: 0, vertexOffset: 0, uniformNames: [`percentage`, "viewport"],
		numUniformLocations: 2
		};
		var vaos = [{
		attribs:[{vertexBuffer:"num in files", name:"attrib_name"}], indexBuffer:"num in files"
		}
		];
		var vaoIds = vaos;
		var shaderPrograms = [
		{vertexShader:"num in files", fragmentShader:"num in files", uniforms:[], }
		];
    var shaderProgramIds = shaderPrograms;
		var entities = [];
		async function main() {
	
		let canvas = document.getElementById("gameBoard");
		let gl = canvas.getContext("webgl2");
	
	
	
		resize(gl.canvas);
		clear(gl);
		let texture = loadTexFromImage(gl,
		"data:image/jpeg;base64,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")
	
	
		initLoadingScreen(gl);
		loadAssets();
		processAssets(gl);
	
	
	
	
		console.log(gl.getError());
		}
	
	
		function getFile(index) {
	
		return assets[index];
		}
	
	
	
		function initLoadingScreen(gl) {
	
	
	
		let shaderProgram = createProgram(gl, createVertexShader(gl, loadingScreen.vertexShader), createFragmentShader(gl,
		loadingScreen.fragmentShader));
	
	
	
		let vertexBuffer = createVertexBuffer(gl, new Float32Array(loadingScreen.vertexData), gl.STATIC_DRAW);
	
	
		let indexBuffer = createIndexBuffer(gl, loadingScreen.indexData, gl.STATIC_DRAW);
	
	
	
		let vao = createVao(gl);
	
	
		gl.bindBuffer(gl.ARRAY_BUFFER, vertexBuffer);
	
		gl.vertexAttribPointer(0, loadingScreen.vertexSize, gl.FLOAT, loadingScreen.vertexNormal, loadingScreen.vertexStride
		* 4, loadingScreen.vertexOffset);
	
		gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, indexBuffer);
	
	
		gl.bindVertexArray(null);
		gl.bindBuffer(gl.ARRAY_BUFFER, null);
		gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, null);
	
	
	
		let uniformLocations = getUniformLocations(gl, shaderProgram, loadingScreen.numUniformLocations,
		loadingScreen.uniformNames);
		let attribLocations = getAttribLocations(gl, shaderProgram, 1, loadingScreen.attribName);
	
		enableAttribLocations(gl, 2, attribLocations);
	
	
	
	
	
	
		requestAnimationFrame(loadingScreenRender.bind(null, gl, shaderProgram, vao, uniformLocations, attribLocations,
		undefined, 0));
	
		}
		function loadingScreenRender(gl, shaderProgram, vao, uniformLocations, attribLocations, time, previousTime) {
		let timeStamp = performance.now() - previousTime;
	
	
	
	
	
		resize(gl.canvas);
	
		clear(gl, gl.canvas);
	
		gl.viewport(0, 0, gl.canvas.width, gl.canvas.height);
		gl.useProgram(shaderProgram);
		gl.uniform2fv(uniformLocations[1], new Float32Array([gl.canvas.width, gl.canvas.height]));
		gl.uniform1fv(uniformLocations[0], new Float32Array([percentage]));
	
		gl.bindVertexArray(vao);
		gl.enableVertexAttribArray(0);
		gl.drawElements(gl.TRIANGLES, 6, gl.UNSIGNED_SHORT, 0);
	
	
		if (percentage < 1.00000001) { requestAnimationFrame(loadingScreenRender.bind(null, gl, shaderProgram, vao,
			uniformLocations, attribLocations, percentage, timeStamp)); return; } } 
      function loadAssets() { 
        for (let i=0; i< assetList.length; i++) { switch (assetList[i].fileType) { case "image" : let image=new image();
			image.src=assetList[i].url; image.addEventListener("load", function () { files[i]={ data: image.toDataUrl(),
			type: assetList[i].type }; percentage +=(1 / (assetList.length + 2)) * 0.5; }); break; case "text" :
			fetch(assetList[i].url).then(response=> response.text())
			.then(textData => {
			files[i] = { data: JSON.parse(textData).data, type: assetList[i].type, usage: JSON.parse(textData).usage };
			percentage += (1 / (assetList.length + 2)) * 0.5;
			});
			break;
			}

			}
			fetch("/vaos.txt").then(response => response.text())
			.then(textData => {
			vaos = JSON.parse(textData);
			percentage += (1 / (assetList.length + 2)) * 0.5;
			});
			}
			function processAssets(gl) {
			let render = files;
			for (let i = 0; i < files.length; i++){ 
        switch (files[i].type) { case "vertexShader" :
				render[i].data=createVertexShader(gl, files[i].data); 
        break; 
        case "fragmentShader" :
				render[i].data=createFragmentShader(gl, files[i].data); 
        break; 
        case "vertexBuffer" :
				render[i].data=createVertexBuffer(gl, files[i].data, files[i].usage); 
        break;
         case "indexBuffer" :
				render[i].data=createIndexBuffer(gl, files[i].data, files[i].usage); 
        break; 
        case "texture" :
				render[i].data=loadTexFromImage(gl, files[i].data); 
        break; } 
        files=render; 
        percentage +=(1 / (files.length +
				vaos.length + shaderPrograms.length)) * 0.5; } 
        for(let i=0;i<vaos.length;i++){ 
          vaoIds[i]=createVao(gl);
  
				for(let ii=0;i<vaos[i].attribs.length;i++){ 
          gl.bindBuffer(gl.ARRAY_BUFFER, filesvaoIds[i].attribs[ii].num);
				gl.vertexAttribPointer(ii, vaos[i].attribs[ii].size, vaos[i].attribs[ii].type,
				vaos[i].attribs[ii].normalized, vaos[i].attribs[ii].stride, vaos[i].attribs[ii].offset);
         }
				gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, files[vaos[i].indexBuffer]); 
        gl.bindVertexArray(null); }
				gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, null); 
        gl.bindBuffer(gl.ARRAY_BUFFER, null);
        for(let i = 0;i<shaderPrograms.length;i++){
          let program = createProgram(gl, files[shaderPrograms[i].vertexShader], files[shaderPrograms[i].fragmentShader]);

        }
        
         } function
				mainRender(gl) { 
          resize(gl.canvas); 
          clear(gl); 
          gl.useProgram()
          requestAnimationFrame(mainrender.bind(gl)); } function
				uiRender(uis) { } 
        function particleRender() { } 
        function shadowMapRenderer() { } 
        function clear(gl) {
				gl.clearColor(0.5, 1.0, 1.0, 1.0); 
        gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT); } 
        function
				resize(viewport) { 
          viewport.height=window.innerHeight; 
          viewport.width=window.innerWidth; 
          return viewport; }
				function createVertexShader(gl, sourceCode) { 
          let shader=gl.createShader(gl.VERTEX_SHADER);
				gl.shaderSource(shader, sourceCode); 
        gl.compileShader(shader); 
        return shader; 
        } 
        function createFragmentShader(gl, sourceCode) { 
          let shader=gl.createShader(gl.FRAGMENT_SHADER);
				gl.shaderSource(shader, sourceCode); gl.compileShader(shader); 
        return shader; } function createProgram(gl,
				vs, fs) { let program=gl.createProgram(); gl.attachShader(program, vs); gl.attachShader(program, fs);
				gl.linkProgram(program); gl.validateProgram(program); return program; } function createVertexBuffer(gl,
				data, usage) { let buffer=gl.createBuffer(); gl.bindBuffer(gl.ARRAY_BUFFER, buffer);
				gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(data), usage); gl.bindBuffer(gl.ARRAY_BUFFER, null); return
				buffer; } function createIndexBuffer(gl, data, usage) { let buffer=gl.createBuffer();
				gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, buffer); gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, new
				Uint16Array(data), usage); gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, null); return buffer; } function
				loadTexFromImage(gl, url) { let tex=gl.createTexture(); gl.bindTexture(gl.TEXTURE_2D, tex);
				gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, 1, 1, 0, gl.RGBA, gl.UNSIGNED_BYTE, new Uint8Array([0, 0, 255,
				255])); gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.REPEAT); gl.texParameteri(gl.TEXTURE_2D,
				gl.TEXTURE_WRAP_T, gl.REPEAT); let image=new Image(); var textureInfo={ width: 1,  height: 1, texture: tex, }; image.addEventListener("load", function () {
				textureInfo.width=image.width; textureInfo.height=image.height; gl.bindTexture(gl.TEXTURE_2D,
				textureInfo.texture); gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, image);
				gl.generateMipmap(gl.TEXTURE_2D); }); image.src=url; return textureInfo; } function createVao(gl) { let
				vao=gl.createVertexArray(); gl.bindVertexArray(vao); return vao; } function getUniformLocations(gl,
				shaderProgram, numLocations, names) { let uniformLocation=[]; for (let i=0; i < numLocations; i++) {
				uniformLocation[i]=gl.getUniformLocation(shaderProgram, names[i]); } return uniformLocation; } function
				getAttribLocations(gl, shaderProgram, numLocations, names) { let attribLocations=[]; for (let ii=0; ii <
				numLocations; ii++) { attribLocations[ii]=gl.getAttribLocation(shaderProgram, names[ii]); } return
				attribLocations; } function enableAttribLocations(gl, numlocations, locations) { for (let i=0; i <
				numlocations; i++) { gl.enableVertexAttribArray(locations[i]); } } try { main(); } catch (e) {
				console.error(e); } 
        class Entitiy{ 
          constructor(model){ 
this.position = vec3.create();
this.rotation = vec3.create();
this.scale;
this.model = model;
          } 
          set position(data){
vec3.set(position, data[0], data[1], data[2]);
          }
          set rotation(data){
vec3.set(rotation, data[0], data[1], data[2]);
          }
          set scale(data){
            scale = data;
          }
          get position(){
            return position;
          }
          get rotation(){
            return rotation;
          }
          get scale(){
            return scale;
          }
          changePosition(data){
vec3.set(position, position[0] + data[0], position[1] + data[1], position[2] + data[2] )
          }
          changeRotation(data){
vec3.set(rotation, rotation[0] + data[0], rotation[1] + data[1], rotation[2] + data[2] )
          }
          changeScale(data){
            scale += data;
          }
          }
       class Model{
         constructor(){

         }
       }

    </script>
</body>
<html>

</body>
<html><script type="text/javascript">
"use strict";

const loadingScreenVertexShader = `#version 300 es
precision mediump float;
in vec2 vertex;
out vec2 f_vertex;
void main(){
  gl_Position = vec4(vertex, 0.0, 1.0);
  f_vertex = vertex;
}
`
const loadingScreenFragmentShader = `#version 300 es
precision mediump float;
in vec2 f_vertex;
uniform float percentage;
uniform vec2 viewport;
uniform sampler2D tex;
out vec4 outColor;

void main(){
  vec2 coord = gl_FragCoord.xy / viewport.xy;
  coord = coord * 2.0 - 1.0;
  float percent_space = percentage * 1.5 - 0.75;
 
if((coord.x>-0.75) && (coord.y>-0.75) && (coord.x<0.75) && (coord.y<-0.6)){
outColor = vec4(0.0, 1.0, 1.0, 1.0);
 if(coord.x<percent_space && coord.y<0.0 - 0.6 && coord.y> -0.75 && coord.x>-0.75){
outColor = vec4(1.0, 0.0, 1.0, 1.0);
}
}else{
  vec2 texcoords = (coord + 1.0) / 2.0;
  outColor = texture(tex, vec2(texcoords.x, 0.0-texcoords.y));
}


}
`

const vertexShader = `#version 300 es
precision mediump float;
in vec3 a_Position;

`;
const fragmentShader = `
`;
var percentage = 0.0;
var assets = [{
  renderer: { length: 5, offset: 2 }
}, { attribName: ["vertex"], vertexShader: loadingScreenVertexShader, vertexSize: 2, fragmentShader: loadingScreenFragmentShader, vertexData: [-1.0, 1.0, 1.0, 1.0, 1.0, -1.0, -1.0, -1.0], indexData: [0, 2, 1, 0, 3, 2], vertexNormal: false, vertexStride: 0, vertexOffset: 0, uniformNames: [`percentage`, "viewport"], numUniformLocations: 2 }, { data: vertexShader, type: "vertexShader" }, { data: fragmentShader, type: "fragmentShader" }, { data: ["a_Position"], type: "attribLocations" }, { data: [], type: "uniformLocations" }, { data: [] }];
var assetList = [];
var files = [];
var loadingScreen = {
  attribName: ["vertex"], vertexShader: loadingScreenVertexShader, vertexSize: 2, fragmentShader:
    loadingScreenFragmentShader, vertexData: [-1.0, 1.0, 1.0, 1.0, 1.0, -1.0, -1.0, -1.0], indexData: [0, 2, 1, 0, 3, 2],
  vertexNormal: false, vertexStride: 0, vertexOffset: 0, uniformNames: [`percentage`, "viewport"], numUniformLocations: 2
};
var vaos = [{
  attribs: [], indexBuffer: "num in files", uniforms: []
}
];
var vaoIds = vaos;
var shaderPrograms = [
  { vertexShader: "num in files", fragmentShader: "num in files" }
];
var entities = [];
async function main() {

  let canvas = document.getElementById("gameBoard");
  let gl = canvas.getContext("webgl2");



  resize(gl.canvas);
  clear(gl);
  let texture = loadTexFromImage(gl, "data:image/jpeg;base64,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")


  initLoadingScreen(gl);
  loadAssets();
  processAssets(gl);




  console.log(gl.getError());
}


function getFile(index) {

  return assets[index];
}



function initLoadingScreen(gl) {



  let shaderProgram = createProgram(gl, createVertexShader(gl, loadingScreen.vertexShader), createFragmentShader(gl, loadingScreen.fragmentShader));



  let vertexBuffer = createVertexBuffer(gl, new Float32Array(loadingScreen.vertexData), gl.STATIC_DRAW);


  let indexBuffer = createIndexBuffer(gl, loadingScreen.indexData, gl.STATIC_DRAW);



  let vao = createVao(gl);


  gl.bindBuffer(gl.ARRAY_BUFFER, vertexBuffer);

  gl.vertexAttribPointer(0, loadingScreen.vertexSize, gl.FLOAT, loadingScreen.vertexNormal, loadingScreen.vertexStride * 4, loadingScreen.vertexOffset);

  gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, indexBuffer);


  gl.bindVertexArray(null);
  gl.bindBuffer(gl.ARRAY_BUFFER, null);
  gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, null);



  let uniformLocations = getUniformLocations(gl, shaderProgram, loadingScreen.numUniformLocations, loadingScreen.uniformNames);
  let attribLocations = getAttribLocations(gl, shaderProgram, 1, loadingScreen.attribName);

  enableAttribLocations(gl, 2, attribLocations);






  requestAnimationFrame(loadingScreenRender.bind(null, gl, shaderProgram, vao, uniformLocations, attribLocations, undefined, 0));

}
function loadingScreenRender(gl, shaderProgram, vao, uniformLocations, attribLocations, time, previousTime) {
  let timeStamp = performance.now() - previousTime;





  resize(gl.canvas);

  clear(gl, gl.canvas);

  gl.viewport(0, 0, gl.canvas.width, gl.canvas.height);
  gl.useProgram(shaderProgram);
  gl.uniform2fv(uniformLocations[1], new Float32Array([gl.canvas.width, gl.canvas.height]));
  gl.uniform1fv(uniformLocations[0], new Float32Array([percentage]));

  gl.bindVertexArray(vao);
  gl.enableVertexAttribArray(0);
  gl.drawElements(gl.TRIANGLES, 6, gl.UNSIGNED_SHORT, 0);


  if (percentage < 1.00000001) {
    requestAnimationFrame(loadingScreenRender.bind(null, gl, shaderProgram, vao, uniformLocations, attribLocations, percentage, timeStamp));
    return;
  }


}
function loadAssets() {
  for (let i = 0; i < assetList.length; i++) {
    switch (assetList[i].fileType) {
      case "image":
        let image = new image();
        image.src = assetList[i].url;
        image.addEventListener("load", function () {
          files[i] = { data: image.toDataUrl(), type: assetList[i].type };
          percentage += (1 / (assetList.length + 2)) * 0.5;

        });
        break;
      case "text":
        fetch(assetList[i].url).then(response => response.text())
          .then(textData => {
            files[i] = { data: JSON.parse(textData).data, type: assetList[i].type, usage: JSON.parse(textData).usage };
            percentage += (1 / (assetList.length + 2)) * 0.5;
          });
        break;
    }
  }
  fetch(assetList[i].url).then(response => response.text())
    .then(textData => {
      vaos = JSON.parse(textData);
      percentage += (1 / (assetList.length + 2)) * 0.5;
    });
}
function processAssets(gl) {
  let render = files;
  for (let i = 0; i < files.length; i++) {
    switch (files[i].type) {
      case "vertexShader":
        render[i].data = createVertexShader(gl, files[i].data);
        break;
      case "fragmentShader":
        render[i].data = createFragmentShader(gl, files[i].data);
        break;
      case "vertexBuffer":
        render[i].data = createVertexBuffer(gl, files[i].data, files[i].usage);
        break;
      case "indexBuffer":
        render[i].data = createIndexBuffer(gl, files[i].data, files[i].usage);
        break;
      case "texture":
        render[i].data = loadTexFromImage(gl, files[i].data);
        break;

    }
    files = render;
    percentage += (1 / (files.length + vaos.length + shaderPrograms.length)) * 0.5;
  }
  for (let i = 0; i < vaos.length; i++) {
    vaoIds[i] = createVao(gl);
    for (let ii = 0; i < vaos[i].attribs.length; i++) {
      gl.bindBuffer(gl.ARRAY_BUFFER, files[vaos[i].attribs[ii].num]);
      gl.vertexAttribPointer(ii, vaos[i].attribs[ii].size, vaos[i].attribs[ii].type, vaos[i].attribs[ii].normalized, vaos[i].attribs[ii].stride, vaos[i].attribs[ii].offset);
    }
    gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, files[vaos[i].indexBuffer]);
    gl.bindVertexArray(null);

  }
  gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, null);
  gl.bindBuffer(gl.ARRAY_BUFFER, null);
}
function mainRender(gl) {

  resize(gl.canvas);
  clear(gl);

  requestAnimationFrame(mainrender.bind(gl));
}
function uiRender(uis) {

}
function particleRender() {

}
function shadowMapRenderer() {

}
function clear(gl) {
  gl.clearColor(0.5, 1.0, 1.0, 1.0);
  gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);
}
function resize(viewport) {
  viewport.height = window.innerHeight;
  viewport.width = window.innerWidth;
  return viewport;
}


function createVertexShader(gl, sourceCode) {

  let shader = gl.createShader(gl.VERTEX_SHADER);
  gl.shaderSource(shader, sourceCode);
  gl.compileShader(shader);
  return shader;
}
function createFragmentShader(gl, sourceCode) {
  let shader = gl.createShader(gl.FRAGMENT_SHADER);
  gl.shaderSource(shader, sourceCode);
  gl.compileShader(shader);
  return shader;
}

function createProgram(gl, vs, fs) {
  let program = gl.createProgram();
  gl.attachShader(program, vs);
  gl.attachShader(program, fs);
  gl.linkProgram(program);
  gl.validateProgram(program);
  return program;

}
function createVertexBuffer(gl, data, usage) {
  let buffer = gl.createBuffer();
  gl.bindBuffer(gl.ARRAY_BUFFER, buffer);
  gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(data), usage);
  gl.bindBuffer(gl.ARRAY_BUFFER, null);
  return buffer;
}
function createIndexBuffer(gl, data, usage) {
  let buffer = gl.createBuffer();
  gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, buffer);
  gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, new Uint16Array(data), usage);
  gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, null);
  return buffer;
}
function loadTexFromImage(gl, url) {
  let tex = gl.createTexture();
  gl.bindTexture(gl.TEXTURE_2D, tex);
  gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, 1, 1, 0, gl.RGBA, gl.UNSIGNED_BYTE, new Uint8Array([0, 0, 255, 255]));

  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.REPEAT);
  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.REPEAT);
  let image = new Image();
  var textureInfo = {
    width: 1,   // we don't know the size until it loads
    height: 1,
    texture: tex,
  };
  image.addEventListener("load", function () {
    textureInfo.width = image.width;
    textureInfo.height = image.height;

    gl.bindTexture(gl.TEXTURE_2D, textureInfo.texture);
    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, image);
    gl.generateMipmap(gl.TEXTURE_2D);
  });
  image.src = url;
  return textureInfo;
}
function createVao(gl) {
  let vao = gl.createVertexArray();
  gl.bindVertexArray(vao);
  return vao;
}
function getUniformLocations(gl, shaderProgram, numLocations, names) {
  let uniformLocation = [];
  for (let i = 0; i < numLocations; i++) {
    uniformLocation[i] = gl.getUniformLocation(shaderProgram, names[i]);
  }
  return uniformLocation;
}
function getAttribLocations(gl, shaderProgram, numLocations, names) {
  let attribLocations = [];
  for (let ii = 0; ii < numLocations; ii++) {
    attribLocations[ii] = gl.getAttribLocation(shaderProgram, names[ii]);
  }
  return attribLocations;
}
function enableAttribLocations(gl, numlocations, locations) {
  for (let i = 0; i < numlocations; i++) {
    gl.enableVertexAttribArray(locations[i]);
  }
}
try {
  main();
} catch (e) {
  console.error(e);
}
class Entitiy {
  constructor() {

  }
}
</script></body><html>

